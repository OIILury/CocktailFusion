{% extends "project_layout.html" %}
{% block title %}Critères de collecte{% endblock %}
{% block content %}
{% let active_page = "collect" %}
  <main class="main-site" id="main-site">
    <section class="section-content">
      <aside class="aside">
        <div class="accordion active">
          <span class="icon-chevron"></span>
          <span>Votre base de donnée</span>
        </div>
        {% include "_panel_collect.html" %}
        
        <div class="accordion">
          <span class="icon-chevron"></span>
          <span>Vos critères d'étude</span>
        </div>
        {% include "_panel_criteria.html" %}
        {% if is_analyzed %}
        <div class="accordion">
          <span class="icon-chevron"></span>
          <span>Les tweets de votre étude</span>
        </div>
        {% include "_panel_analysis.html" %}
        <div class="accordion">
          <span class="icon-chevron"></span>
          <span>Résultats d'analyses</span>
        </div>
        {% include "_panel_results.html" %}
        {% endif %}
      </aside>
      
      <div class="collect-view">
        <div class="collect-card">
            <h3>Nouvelle Collecte</h3>
            
            <!-- Nom de la collecte -->
            <div class="input-group">
                <label for="collectName">Nom de la collecte</label>
                <input type="text" id="collectName" placeholder="Entrez le nom de votre collecte">
            </div>
    
            <!-- Mots-clés -->
            <div class="input-group">
                <label for="keywords">Mots-clés</label>
                <div class="keyword-input">
                    <input type="text" id="keywords" placeholder="Entrez un mot-clé">
                    <button id="addKeyword">Ajouter</button>
                </div>
            </div>
    
            <!-- Liste des mots-clés -->
            <div class="keywords-list" id="keywordsList">
                <!-- Les mots-clés seront ajoutés ici dynamiquement -->
            </div>

            <!-- Plage de dates -->
            <div class="date-range-group">
                <label>Période de collecte</label>
                <div class="date-inputs">
                    <div class="date-input">
                        <label for="startDate">Date de début</label>
                        <input type="datetime-local" id="startDate">
                    </div>
                    <div class="date-input">
                        <label for="endDate">Date de fin</label>
                        <input type="datetime-local" id="endDate">
                    </div>
                </div>
                <small class="date-help">Laissez vide pour collecter les tweets les plus récents</small>
                <small class="date-warning">ℹ️ Twitter : Détection automatique API gratuite (7 jours) vs Pro (archive complète)</small>
            </div>

            <!-- Nombre de tweets à collecter -->
            <div class="input-group">
                <label for="tweetLimit">Nombre de tweets à collecter par mot-clé</label>
                <input type="number" id="tweetLimit" min="1" max="1000" value="10">
            </div>



            <!-- Sélection des réseaux sociaux -->
            <div class="social-options">
                <label>Réseaux sociaux</label>
                <div class="checkbox-group">
                    <div class="checkbox-option">
                        <input type="checkbox" id="twitterCheck" checked>
                        <label for="twitterCheck">Twitter</label>
                    </div>
                    <div class="checkbox-option">
                        <input type="checkbox" id="blueskyCheck" checked>
                        <label for="blueskyCheck">Bluesky</label>
                    </div>
                </div>
            </div>

            <button id="startCollect">Démarrer la collecte</button>
            <button id="deleteCollect" class="delete-button">Supprimer les données collectées</button>
            <button id="updateData" class="update-button">Mettre à jour les données</button>
        </div>
      </div>
    </section>
  </main>

  {% include "footer.html" %}


  
  <!-- Ajout du script JavaScript -->
  <script src="/static/js/collect.js"></script>
</body>

</html>
{% endblock %}